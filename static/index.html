<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChechyLegis | Archivo Judicial Inteligente</title>
    <link rel="stylesheet" href="styles.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="app-container">
        <nav class="sidebar">
            <div class="brand">
                <div class="logo">
                    <h1>Justicia<span>Virtual</span><span class="free-badge">FREE</span></h1>
                </div>
            </div>
            <ul>
                <li><a href="#" id="nav-list" class="active"><i class="fas fa-folder-open"></i>
                        <span>Procesos</span></a>
                </li>
                <li><a href="#" id="nav-create"><i class="fas fa-plus-circle"></i> <span>Registrar</span></a></li>
                <li><a href="#" id="nav-support"><i class="fas fa-headset"></i> <span>Soporte</span></a></li>
                <li><a href="#" id="nav-settings"><i class="fas fa-cog"></i> <span>Ajustes</span></a></li>
            </ul>

            <div class="sidebar-footer"
                style="margin-top: auto; padding-top: 2rem; font-size: 0.75rem; color: var(--text-dim);">
                <p>&copy; 2026 ChechyLegis S.A.S.</p>
            </div>
        </nav>

        <header>
            <div class="ai-search-container">
                <i class="fas fa-robot"
                    style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--primary);"></i>
                <input type="text" id="ai-search-input" style="padding-left: 2.8rem;"
                    placeholder="Búsqueda inteligente: 'procesos activos de enero'..." />
                <button class="btn btn-primary" onclick="performAISearch()">
                    <i class="fas fa-search"></i> IA
                </button>
            </div>
            <div class="user-controls">
                <div class="user-info">
                    <span id="current-user-display" style="font-weight: 500;">Admin</span>
                </div>
                <select id="role-selector">
                    <option value="admin">Administrador</option>
                    <option value="operator">Operador</option>
                    <option value="viewer">Consultor</option>
                </select>
            </div>
        </header>

        <main id="content">
            <!-- Content injected here -->
        </main>
    </div>

    <!-- Modals -->
    <div id="modal-container" class="hidden">
        <div class="modal">
            <button class="close-modal">&times;</button>
            <div id="modal-content"></div>
        </div>
    </div>

    <!-- AI Chat Widget -->
    <div id="ai-chat-widget" class="chat-widget hidden">
        <div class="chat-header">
            <div style="display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-robot"></i>
                <h3>Asistente ChechyIA</h3>
            </div>
            <button onclick="toggleChat()" style="background: none; border: none; color: white; cursor: pointer;"><i
                    class="fas fa-times"></i></button>
        </div>
        <div class="chat-messages" id="chat-messages"></div>
        <div class="chat-input-container">
            <input type="text" id="chat-input" placeholder="Pregunta algo sobre tus expedientes..."
                onkeypress="if(event.key==='Enter') sendChatMessage()" />
            <button onclick="sendChatMessage()" class="btn btn-primary"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Chat Toggle Button -->
    <div class="chat-toggle-btn" onclick="toggleChat()">
        <i class="fas fa-comment-dots" style="font-size: 1.5rem;"></i>
    </div>
    <div id="disclaimer-modal" class="hidden">
        <div class="disclaimer-content">
            <i class="fas fa-balance-scale-left"
                style="font-size: 3rem; color: var(--primary); margin-bottom: 1rem;"></i>
            <h2>Aviso Legal Importante</h2>
            <div class="disclaimer-text">
                ChechyLegis es una herramienta de análisis jurídico asistido por IA.
                <strong>No constituye asesoría legal profesional ni garantiza resultados judiciales concretos.</strong>
                Los análisis generados son hipótesis de trabajo basadas en los datos suministrados.
                El criterio final y la responsabilidad jurídica recaen siempre en el usuario humano profesional.
                <br><br>
                Al continuar, usted acepta que esta es una herramienta de apoyo y no un sustituto del juicio legal
                humano.
            </div>
            <div class="disclaimer-footer">
                <button class="btn btn-primary" style="width: 100%;" onclick="acceptDisclaimer()">Entiendo y
                    Acepto</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>